<div class="sidebar">
    <div class="widget">
        <h3 class="title">Categories</h3>
        <ul class="category_list">
            {% assign category_list = site.categories %}
            {% if category_list.first[0] == null %}
                {% for category in category_list %}
                    <li><a href="{{ site.category_dir | prepend: site.baseurl | replace: '//', '/' }}/{{ category | slugify }}">{{ category }}</a></li>
                {% endfor %}
            {% else %}
                {% for category in category_list %}
                    <li><a href="{{ site.category_dir | prepend: site.baseurl | replace: '//', '/' }}/{{ category[0] | slugify }}">{{ category[0] }}</a></li>
                {% endfor %}
            {% endif %}
            {% assign category_list = nil %}
        </ul>
    </div>
    <div class="widget">
        <h3 class="title">Tags</h3>
        <ul class="tag_list">
            {% assign tag_list = site.tags %}
            {% if tag_list.first[0] == null %}
                {% for tag in tag_list %}
                    <li><a href="{{ site.tag_dir | prepend: site.baseurl | replace: '//', '/' }}/{{ tag | slugify }}">{{ tag }}</a></li>
                {% endfor %}
            {% else %}
                {% for tag in tag_list %}
                    <li><a href="{{ site.tag_dir | prepend: site.baseurl | replace: '//', '/' }}/{{ tag[0] | slugify }}">{{ tag[0] }}</a></li>
                {% endfor %}
            {% endif %}
            {% assign tag_list = nil %}
        </ul>
    </div>

    <div class="widget">
        <h3 class="title">Authors</h3>
        <ul class="author_list">
            {% for author in site.data.authors %}
                <li>
                    <a href="{{ site.author_dir | prepend: site.baseurl | replace: '//', '/' }}/{{ author.id }}">
                        {% if author.name %}
                            {{ author.name }}
                        {% else %}
                            {{ author.id }}
                        {% endif %}
                    </a>
                </li>
            {% endfor %}
        </ul>
    </div>
</div>
